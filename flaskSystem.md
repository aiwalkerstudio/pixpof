# 简化版流放之路药剂系统设计

## 1. 系统概述

### 1.1 设计目标
- 极简药剂种类
- 保持策略性
- 明确使用时机
- 支持多样玩法

### 1.2 核心特点
- 充能系统
- 双品质设计
- 效果组合
- 快捷使用

## 2. 药剂类型

### 2.1 生命药剂
- 大型生命药剂
  * 恢复60%生命值
  * 4秒内持续恢复
  * 1次充能
  * 冷却12秒

### 2.2 魔法药剂
- 大型魔法药剂
  * 恢复80%魔法值
  * 即时恢复
  * 1次充能
  * 冷却10秒

### 2.3 功能药剂
- 速度药剂
  * 移动速度+30%
  * 持续10秒
  * 2次充能
  * 冷却15秒

- 防御药剂
  * 伤害减免30%
  * 持续8秒
  * 2次充能
  * 冷却20秒

- 力量药剂
  * 伤害提升30%
  * 持续6秒
  * 2次充能
  * 冷却25秒

### 2.4 特殊药剂
- 复合药剂
  * 生命魔法双恢复
  * 各恢复30%
  * 1次充能
  * 冷却15秒

- 净化药剂
  * 移除所有负面状态
  * 提供5秒免疫
  * 1次充能
  * 冷却30秒

### 2.5 智能使用
- 自动触发条件
  * 生命值低于30%
  * 能量值低于20%
  * 进入BOSS战
  * 连击达到特定数值

- 智能配置
  * 可自定义触发条件
  * 优先级设置
  * 场景特定配置
  * 一键开关

## 3. 品质系统

### 3.1 品质等级
- 稀有品质
  * 效果+50%
  * 充能+1
  * 黄色外观
  * 冷却-20%

- 传奇品质
  * 效果+100%
  * 充能+2
  * 橙色外观
  * 冷却-30%

### 3.2 获取方式
- 稀有品质
  * 精英怪掉落
  * 宝箱开启
  * 任务奖励
  * 商人购买

- 传奇品质
  * BOSS掉落
  * 终局地图掉落
  * 特殊事件奖励
  * 限时活动获得

## 4. 充能系统

### 4.1 充能规则
- 基础充能
  * 击杀怪物获得
  * 时间自动恢复
  * 补给站补充
  * 特殊道具补充

- 充能上限
  * 基础上限
  * 品质加成
  * 装备加成
  * 天赋加成

### 4.2 恢复机制
- 自动恢复
  * 每30秒恢复1次
  * 非战斗加快
  * 休息加快
  * 特殊buff加快

- 主动恢复
  * 补给站
  * 特殊道具
  * 队友技能
  * 特殊事件

## 5. 技术实现

### 5.1 药剂接口
```csharp
public interface IFlask
{
    void Use();
    void Recharge();
    bool CanUse();
}
```

### 5.2 效果系统
```csharp
public interface IFlaskEffect
{
    void ApplyEffect(Character target);
    void UpdateEffect(float deltaTime);
    bool IsFinished();
}
```

## 6. 界面设计

### 6.1 药剂栏
- 快捷键绑定
- 充能显示
- 冷却显示
- 效果计时

### 6.2 管理界面
- 药剂更换
- 品质显示
- 效果预览

## 7. 平衡设计

### 7.1 使用限制
- 战斗限制
  * 使用动作时间
  * 被打断机制
  * 移动限制
  * 状态限制

- 资源限制
  * 充能消耗
  * 冷却时间
  * 持续时间
  * 使用次数

### 7.2 效果平衡
- 恢复效果
  * 即时vs持续
  * 数值平衡
  * 触发条件
  * 副作用

- 增益效果
  * 效果强度
  * 持续时间
  * 叠加规则
  * 限制条件

## 8. 注意事项
- 保持使用简单
- 效果要明确
- 策略性选择
- 预留扩展空间
- 注意游戏节奏
